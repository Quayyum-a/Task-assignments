@startuml BankeApp_UseCaseDiagram

left to right direction
skinparam packageStyle rectangle
skinparam usecase {
  BackgroundColor LightSkyBlue
  BorderColor DarkSlateGray
}

actor Customer as "Bank Customer"

rectangle "Banking Application" {
  usecase "Create Account" as UC1
  usecase "Close Account" as UC2
  usecase "Deposit Money" as UC3
  usecase "Withdraw Money" as UC4
  usecase "Check Balance" as UC5
  usecase "Transfer Funds" as UC6
  usecase "Change PIN" as UC7
  usecase "Verify PIN" as UC8

  Customer --> UC1 : "Provides name and PIN"
  Customer --> UC2 : "Closes account"
  Customer --> UC3 : "Deposits funds"
  Customer --> UC4 : "Withdraws with PIN"
  Customer --> UC5 : "Views balance"
  Customer --> UC6 : "Transfers to another account"
  Customer --> UC7 : "Changes security PIN"
  Customer --> UC8 : "Verifies PIN"
}

' Extension points for error cases
usecase "Validate Name" as VAL1
usecase "Validate PIN" as VAL2
usecase "Validate Amount" as VAL3
usecase "Check Account Status" as VAL4

UC1 ..> VAL1 : <<include>>
UC1 ..> VAL2 : <<include>>
UC3 ..> VAL3 : <<include>>
UC4 ..> VAL3 : <<include>>
UC4 ..> VAL2 : <<include>>
UC6 ..> VAL3 : <<include>>
UC6 ..> VAL2 : <<include>>
UC7 ..> VAL2 : <<include>>
UC8 ..> VAL2 : <<include>>

' Error cases
usecase "Invalid Name" as ERR1 #pink
usecase "Invalid PIN" as ERR2 #pink
usecase "Insufficient Funds" as ERR3 #pink
usecase "No Active Account" as ERR4 #pink
usecase "Negative/Zero Amount" as ERR5 #pink

VAL1 ..> ERR1 : <<extend>>
VAL2 ..> ERR2 : <<extend>>
VAL3 ..> ERR3 : <<extend>>
VAL3 ..> ERR5 : <<extend>>
VAL4 ..> ERR4 : <<extend>>

@enduml